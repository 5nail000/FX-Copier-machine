# Changelog

Все значимые изменения в проекте будут документироваться в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

## [Unreleased]

### Добавлено
- **Копирование отложенных ордеров**: Добавлена опция `--copy-pending-orders` для автоматического копирования всех отложенных ордеров (BUY_LIMIT, SELL_LIMIT, BUY_STOP, SELL_STOP, BUY_STOP_LIMIT, SELL_STOP_LIMIT) с донорского аккаунта на клиентский
- **Автоматическое связывание позиций**: При исполнении отложенного ордера донора система автоматически связывает позиции, предотвращая дублирование
- **Автоматическая отмена ордеров**: При удалении отложенного ордера донора соответствующий клиентский ордер автоматически отменяется
- **Поддержка SL/TP для отложенных ордеров**: При включенной опции `--copy-sl-tp` значения Stop Loss и Take Profit копируются и на отложенные ордера
- **Отслеживание ордеров донора**: Добавлена система отслеживания связи между донорскими и клиентскими отложенными ордерами
- **Сохранение состояния ордеров**: Состояние отслеживания отложенных ордеров сохраняется в `sync_state.json` и восстанавливается при перезапуске

### Изменено
- **Улучшена обработка исполнения ордеров**: Система теперь корректно обрабатывает ситуацию, когда отложенный ордер донора исполняется и превращается в позицию
- **Оптимизирована логика связывания позиций**: Улучшена логика поиска и связывания позиций при исполнении отложенных ордеров

### Исправлено
- **Предотвращено дублирование позиций**: Исправлена проблема, при которой позиции могли дублироваться при исполнении отложенных ордеров донора
- **Улучшена обработка закрытых ордеров**: Система теперь корректно обрабатывает ситуацию, когда отложенный ордер донора удаляется или исполняется

## [Предыдущие версии]

### Добавлено
- Поддержка множественных доноров через конфигурационный файл
- Поддержка доноров через Socket MT4 и Socket MT5
- Оптимизация лимитных ордеров с адаптивным отступом
- Копирование Stop Loss и Take Profit
- Копирование Magic Number с донорских позиций
- Стили копирования: By_Limits и By_Market
- Сохранение и восстановление состояния синхронизации
- Мониторинг изменений позиций в реальном времени
- Поддержка различных режимов расчета лота

